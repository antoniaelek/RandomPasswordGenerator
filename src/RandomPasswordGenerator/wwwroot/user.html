<html>
  <head>
    <script type="text/javascript" src="./lib/knockout/dist/knockout.js"></script>
    <script type="text/javascript" src="./lib/helpers.js"></script>
    <script type="text/javascript" src="./lib/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="./lib/jquery.validation/dist/jquery.validate.min.js"></script>
    <script type="text/javascript" src="./lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="./lib/bootstrap/dist/css/bootstrap.min.css" media="screen" />
  </head>
  <body>

    <div class="container" id="usr-container">
        <h1>
            User <button class="btn btn-default" href="#">Show passwords</button> <button class="btn btn-danger" href="#">Logout</button>
        </h1> 
        <hr/>
        <form id="myform">
            <div class="form-group row">
                <label for="email" class="col-md-1 control-label" style="padding-top: 5px;">Email</label>
                <div class="col-md-5">
                    <input type="email" class="form-control col-md-9" id="email" placeholder="you@mail.com" 
                    name="email" data-bind="value: email" disabled required/>
                </div>
            </div>
            <div class="form-group row">
                <label for="userName" class="col-md-1 control-label" style="padding-top: 5px;">Username</label>
                <div class="col-md-5">
                    <input type="userName" class="form-control col-md-9" id="userName" placeholder="userName" 
                    name="userName" data-bind="value: userName" disabled required/>
                </div>
            </div>
            <div class="form-group row">
                <label for="name" class="col-md-1 control-label" style="padding-top: 5px;">Name</label>
                <div class="col-md-5">
                    <input type="name" class="form-control col-md-9" id="name" placeholder="Name" 
                    name="name" data-bind="value: name" disabled required/>
                </div>
            </div>
            <div class="form-group row">
                <label for="dateCreated" class="col-md-1 control-label" style="padding-top: 5px;">Created</label>
                <div class="col-md-5">
                    <input type="dateCreated" class="form-control col-md-9" id="dateCreated" placeholder="dateCreated" 
                    name="dateCreated" data-bind="value: dateCreated" disabled required/>
                </div>
            </div>
        </form>
    </div>


    <script type="text/javascript">
        var ViewModel = function (userName, email, name, dateCreated) {
            var self = this;
            self.userName = ko.observable(userName);
            self.email = ko.observable(email);
            self.name = ko.observable(name);
            self.dateCreated = ko.observable(dateCreated);

            self.loadJson = function () {
                var param =  getParameterByName('user');
                $.getJSON("/api/user/"+param,
                function (data) {
                    self.userName(data.userName);
                    self.email(data.email);
                    self.name(data.name);
                    self.dateCreated(data.dateCreated);
                });
            };
            self.loadJson();

        };
        var vm = new ViewModel();
        console.log(vm);
        ko.applyBindings(vm);

    </script>
  </body>
</html>